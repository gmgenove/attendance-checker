<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1, shrink-to-fit=no, maximum-scale=1, minimum-scale=1" />
        <meta name="robots" content="nofollow, noindex, noarchive"/>
        <meta name="author" content="gmgenove"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <link rel="icon" href="data:;base64,iVBORw0KGgo=">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="preload" href="fonts/BlinkMacSystemFont-Light.woff2" as="font" type="font/woff2" crossorigin>
        <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.4/build/global/luxon.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
        <title>BPAOUMN 1-B Attendance Checker</title>
        <style>
            body{font-family:'BlinkMacSystemFont', Inter, system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important;margin:0;padding:16px;background:#f7fafc;color:#0f172a}
            .container{max-width:900px;margin:0 auto}
            header{display:flex;align-items:center;justify-content:space-between}
            .card{background:white;border-radius:12px;padding:16px;margin:12px 0;box-shadow:0 6px 18px rgba(15,23,42,0.06)}
            input,select,button{padding:10px;border-radius:8px;border:1px solid #e2e8f0}
            button{cursor:pointer; transition: opacity 0.2s}
            button:disabled{opacity: 0.5; cursor: not-allowed}
            .small{font-size:0.9rem; color:#475569}
            .danger{background:#fff1f2; color:#7f1d1d; border: 1px solid #7f1d1d;}
            .muted{color:#94a3b8}
            .error-message {color: #d93025; margin-top: 10px; font-size: 0.9em;}
            .class-card {display: flex; justify-content: space-between; align-items: flex-start; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px 16px; margin-bottom: 10px;}
            .class-actions {display: flex; flex-direction: column; gap: 6px;}
            .checkin-btn {background-color: #10b981; color: white; border:none; width: 90px; display: block; margin-left: auto;}
            .footer {width: 100%; margin-top: 15px; text-align: center; font-size: 10px; color: #aaa;}
            #loading-bar { height: 3px; width: 0%; background: #3b82f6; position: fixed; top: 0; left: 0; transition: width 0.3s;}
            @keyframes subtle-shake { 0% { transform: translateX(0); } 25% { transform: translateX(2px); } 50% { transform: translateX(-2px); } 75% { transform: translateX(2px); } 100% { transform: translateX(0); } }
            @keyframes pulse-green { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
            @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
            #profSummaryOutput { animation: fadeIn 0.3s ease-in-out; }
            .fa-circle { animation: pulse-green 2s infinite; }
            .reminder-active {animation: subtle-shake 0.5s ease-in-out;}
            .password-wrapper { position: relative; display: block; align-items: center; width: 100%; max-width: 260px; }
            .password-wrapper input { padding-right: 40px; width: 100%; box-sizing: border-box; }
            .password-wrapper .field-icon { position: absolute; right: 7px; color: #94a3b8; margin-top: 11px; }
            /* Status Alert Themes */
            .alert-holiday { background: #dbeafe !important; color: #1e40af !important; border: 1px solid #bfdbfe !important; }
            .alert-suspended { background: #f3e8ff !important; color: #6b21a8 !important; border: 1px solid #e9d5ff !important; }
            .alert-cancelled { background: #fff7ed !important; color: #9a3412 !important; border: 1px solid #ffedd5 !important; }
            /* Modal Overlay */
            .modal {display: none; position: fixed; z-index: 2000; /* Ensure it is above everything */ left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black */backdrop-filter: blur(4px); /* Modern blur effect */}
            /* Modal Content Box */
            .modal-content { background-color: #ffffff; margin: 10% auto; padding: 25px; border-radius: 12px; width: 90%; max-width: 500px; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); animation: slideIn 0.3s ease-out; }
            .modal-content input, .modal-content select, .modal-content textarea { width: 100%; margin-bottom: 15px; display: block; }
            /* Ensure the modal content is the reference point for the absolute position */
            .modal-content {position: relative; /* CRITICAL: Allows the close button to stay in the corner */ padding-top: 20px; /* Adds space for the button */ background: white; border-radius: 12px; margin: 10% auto; width: 90%; max-width: 450px;}
            /* Inline Close Button */
            .modal-close-inline { background: none; border: none; font-size: 1.2rem; color: #94a3b8; cursor: pointer; padding: 5px; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
            .modal-close-inline:hover { color: #ef4444; transform: scale(1.1);}     /* Turns red on hover to signal closing */
            @keyframes slideIn { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
            /* Cycle Badge Styling */
            .badge-cycle { background: #e0f2fe; color: #0369a1; padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: bold; border: 1px solid #bae6fd; }
            .cycle-timeline-card {margin: 10px 0 14px; padding: 12px; border: 1px solid #7f1d1d; border-radius: 10px; background: linear-gradient(180deg, #fff7ed 0%, #ffffff 100%);}
            .cycle-topbar {display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;}
            .cycle-filter {display:flex; align-items:center; gap:6px; font-size:11px; color:#7f1d1d;}
            .cycle-filter select {border:1px solid #d4a373; color:#7f1d1d; background:#fff; padding:6px 10px; border-radius:8px; font-size:11px;}
            .cycle-range-head {display:grid; grid-template-columns: 96px 1fr; gap:10px; font-size:10px; color:#7f1d1d; margin-top:8px; margin-bottom:2px;}
            .cycle-month-scale {position: relative; height: 18px; border-bottom: 1px dashed #d4a373;}
            .cycle-month-tag {position:absolute; top:0; transform:translateX(-50%);}
            .cycle-row {display:grid; grid-template-columns: 96px 1fr; gap:10px; align-items:center; margin-top:8px;}
            .cycle-label {font-size:11px; font-weight:700; color:#7f1d1d;}
            .cycle-track {position: relative; height: 18px; border-radius: 999px; background: #fef3c7; overflow: hidden;}
            .cycle-window {position:absolute; top:0; height:100%; border-radius:999px; opacity:0.94; border:1px solid rgba(127,29,29,0.2); box-sizing:border-box; transition: transform 0.15s ease, filter 0.15s ease;}
            .cycle-window:hover {transform: translateY(-1px); filter: brightness(1.05);}
            .cycle-window.sync {background: #991b1b;}
            .cycle-window.async {background: #fbbf24;}
            .cycle-window.is-active {box-shadow: 0 0 0 2px rgba(127,29,29,0.35); opacity: 1; z-index: 2;}
            .cycle-now-marker {position: absolute; top: -4px; width: 2px; height: 26px; background: #1f2937; border-radius: 999px; z-index: 3;}
            .cycle-legend {display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px;}
            .cycle-legend-item {display: inline-flex; align-items: center; gap: 6px; font-size: 11px; color: #7f1d1d; background: #fff; border: 1px solid #d4a373; padding: 4px 8px; border-radius: 999px;}
            .cycle-legend-dot {width: 10px; height: 10px; border-radius: 50%;}
            .cycle-legend-dot.sync {background:#991b1b;}
            .cycle-legend-dot.async {background:#fbbf24; border:1px solid #d97706; box-sizing:border-box;}
            .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
            .btn-outline { flex-direction: column; align-items: center; justify-content: center; background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; cursor: pointer; font-size: 13px; font-weight: 600; color: #475569; transition: all 0.2s; gap: 8px; }
            .btn-outline i { font-size: 18px; }
            .btn-outline:hover { background: #f1f5f9; border-color: #cbd5e1; }
            .live-roster-row {display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:nowrap;}
            .live-roster-details {flex:1; min-width:0;}
            .live-roster-actions {display:flex; gap:4px; align-items:center; flex-shrink:0; margin-top:0; flex-wrap:nowrap;}
            /* Mobile Responsiveness */
            @media (max-width: 480px) { .grid { grid-template-columns: 1fr; } .admin-actions { grid-template-columns: 1fr; row-gap: 10px; } .admin-report-btn { grid-column: auto; } .btn-outline { flex-direction: row; justify-content: flex-start; padding-left: 20px; } .live-roster-row {flex-direction: column; align-items: stretch;} .live-roster-actions {margin-top: 8px; flex-wrap: wrap; justify-content: flex-start; gap: 6px;} }
        </style>
    </head>
    <body>
        <div id="loading-bar"></div>
        <div class="container">
            <header>
                <h1>BPAOUMN 1-B Attendance</h1>
                <div id="hdr">
                    <script src="https://time.now/static/js/widget-loader.js" async defer></script>
                    <a href="https://time.now/" class="time-now-widget" data-widget-type="digital" data-timezone="Asia/Manila" data-style="modern" data-width="300" 
                        data-title="" data-bgColor="#ffffff" data-textColor="#000000" data-show-seconds="true" data-show-date="true" data-format-12-hour="true"></a>
                </div>
            </header>
    
            <div id="auth" class="card">
                <h3 id="formTitle">Sign In</h3>
                <form id="authForm">
                    <div class="grid">
                        <div>
                            <label for="userId">Student ID</label><br>
                            <input id="userId" placeholder="2025-XXXXXX-MN-X" maxlength="16" required />
                        </div>
                        <div class="password-wrapper">
                            <label for="passwordInput">Password</label><br>
                            <input id="passwordInput" type="password" placeholder="Enter password" required />
                            <span id="togglePassword" class="fa fa-fw fa-eye-slash field-icon" role="button" tabindex="0" aria-label="Toggle password visibility"></span>
                        </div>
                    </div>
                    <div style="margin-top:12px">
                        <select id="roleSelect" required>
                            <option value="">Select Role</option>
                            <option value="student">Student</option>
                            <option value="officer">Officer</option>
                        </select>
                        <button type="submit" id="submitBtn">Sign In</button>
                        <p id="switchText" class="small">Don't have an account? <a href="#">Sign up</a></p>
                    </div>
                    <div id="errorMsg" class="error-message"></div>
                </form>
            </div>
    
            <div id="app" style="display:none">
                <div class="card" style="display:flex; justify-content:space-between; align-items:center">
                    <div>
                        <strong id="welcome"></strong>
                        <div class="small muted" id="roleBadge"></div>
                    </div>
                    <div style="display:flex; gap:8px">
                        <button onclick="toggleSettings()" class="small" title="Settings"><i class="fa fa-cog"></i></button>
                        <button id="signoutBtn" class="small danger">Sign out</button>
                    </div>
                </div>
    
                <div id="statusAlert" class="card" style="display:none; text-align:center; padding: 15px; margin-bottom: 15px;">
                    <h3 id="alertTitle" style="margin:0; font-size: 1.1rem;"></h3>
                    <p id="alertBody" style="margin:5px 0 0 0; font-size: 0.9rem; opacity: 0.9;"></p>
                </div>
    
                <div class="card">
                    <h3>Today's Schedule</h3>
                    <div id="holidayNotice"></div>
                    <div id="cycleTimelineContainer"></div>
                    <div id="scheduleList" style="overflow-y: auto;"></div>
                </div>
    
                <div id="controls" class="card" style="display:none">
                    <div id="studentControls" class="card" style="display:none">
                        <h3>My Attendance Report</h3>
                        <button id="viewMyAttendance"><i class="fa fa-file-pdf-o"></i> Download My Attendance (PDF)</button>
                        <div id="myAttendanceOutput"></div>
                    </div>
    
                    <div id="officerControls" style="display:none; margin-top: 15px;">
                        <div class="card">
                            <h3><i class="fa fa-university"></i> Class Administration</h3>
                            
                            <div class="admin-actions">
                                <button onclick="showModal('classStatusModal')" class="btn-outline">
                                    <i class="fa fa-bell"></i> Update Class Status
                                </button>
                        
                                <button onclick="showModal('makeupModal')" class="btn-outline">
                                    <i class="fa fa-calendar-check-o"></i> Schedule Make-up
                                </button>
                        
                                <button onclick="showModal('classReports')" class="btn-outline admin-report-btn" style="margin-top:5px;">
                                    <i class="fa fa-file-pdf-o"></i> Generate Attendance Report (PDF)
                                </button>
                            </div>
                        </div>
                        
                        <div id="classReports" class="modal">
                            <div class="modal-content" style="border-top: 4px solid #ef4444;">
                                <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                    <h4 style="margin: 0;"><i class="fa fa-file-pdf-o"></i> Officer Reports</h4>
                                    <button type="button" class="modal-close-inline" onclick="hideModal('classReports')" title="Close">
                                        <i class="fa fa-times"></i>
                                    </button>
                                </div>
                                <hr style="margin-bottom: 20px; border: 0; border-top: 1px solid #eee;">
                                <select id="reportType" required>
                                    <option value="">Select Report Type</option>
                                    <option value="class">Class Report</option>
                                    <option value="person">Student Report</option>
                                </select>
                                <div id="reportParams" style="margin: 10px 0"></div>
                                <button id="generateReport" style="background:#064e3b; color:#e6f4ea; border:1px solid #ddd;">Generate PDF Report</button>
                                <div id="reportOutput"></div>
                            </div>
                        </div>
    
                        <!--div id="adminTools" class="card" style="border-top: 4px solid #ef4444; margin-top: 20px;">
                            <h4>System Maintenance</h4>
                            <p class="small muted">Reset all student passwords to the default: <strong>pass123</strong></p>
                            <button onclick="handleBulkReset()" style="background: #ef4444; color: white; border: none;">
                                Bulk Reset Student Passwords
                            </button>
                        </div-->
    
                        <div id="classStatusModal" class="modal">
                            <div class="modal-content" style="border-top: 4px solid #7c3aed;">
                                <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                    <h4 style="margin: 0;"><i class="fa fa-bell"></i> Class Status Manager</h4>
                                    <button type="button" class="modal-close-inline" onclick="hideModal('classStatusModal')" title="Close">
                                        <i class="fa fa-times"></i>
                                    </button>
                                </div>
                                <hr style="margin-bottom: 20px; border: 0; border-top: 1px solid #eee;">
                                <select id="statusType" required>
                                    <option value="">Select Class Status</option>
                                    <option value="SUSPENDED">Suspended (Admin)</option>
                                    <option value="CANCELLED">Cancelled (Prof)</option>
                                    <option value="ASYNCHRONOUS">Asynchronous</option> </select>
                                </select>
                                <select id="suspendClassCode" required>
                                    <option value="">Loading Classes...</option>
                                </select>
                                <input type="date" id="suspendDate" required />
                                <input type="text" id="suspendReason" placeholder="Reason (e.g., Professor on official business or Typhoon Karding)" style="width: 80%;" autocomplete="off"/>
                                <button onclick="handleStatusChange()" style="background:#7c3aed; color:white; border:none; margin-top:5px;">
                                    Update Class Status
                                </button>
                            </div>
                        </div>

                        <div id="makeupModal" class="modal">
                            <div class="modal-content" style="border-top: 4px solid #10b981;">
                                <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                    <h4 style="margin: 0;"><i class="fa fa-calendar-check-o"></i> Make-up Class Scheduler</h4>
                                    <button type="button" class="modal-close-inline" onclick="hideModal('makeupModal')" title="Close">
                                        <i class="fa fa-times"></i>
                                    </button>
                                </div>
                                <hr style="margin-bottom: 20px; border: 0; border-top: 1px solid #eee;">
                                <p class="small muted" style="margin-top:5px;">This allows students to check in on the selected date.</p>
                                <select id="makeupClassCode" required>
                                    <option value="">Loading Classes...</option>
                                </select>
                                <input type="date" id="makeupDate" required />
                                <button onclick="handleMakeUpClass()" style="background:#10b981; color:white; border:none; margin-top:5px;">
                                    Authorize Make-up Session
                                </button>                       
                            </div>
                        </div>

                        <!--div class="card" style="border-top: 3px solid #6366f1;">
                            <h4 style="color: #6366f1;"><i class="fa fa-calendar"></i> Schedule Management</h4>
                            <p class="small muted">Manage semester cycles and class timings.</p>
                            
                            <div style="display: flex; gap: 10px; margin-top: 10px;">
                                <button onclick="openScheduleModal()" style="flex: 1; background: #6366f1; color: white; border: none; padding: 10px; border-radius: 6px; cursor: pointer;">
                                    <i class="fa fa-plus-circle"></i> Add Schedule
                                </button>
                                
                                <button onclick="showModal('cycleModal')" style="flex: 1; background: #f1f5f9; color: #475569; border: 1px solid #cbd5e1; padding: 10px; border-radius: 6px; cursor: pointer;">
                                    <i class="fa fa-refresh"></i> Manage Cycles
                                </button>
                            </div>
                        </div>

                        <div class="card" style="margin-top: 20px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h4 style="margin: 0;"><i class="fa fa-list"></i> Existing Schedules</h4>
                                <div class="small muted" id="scheduleCount">0 Classes Found</div>
                            </div>
                            
                            <div style="overflow-x: auto;">
                                <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                                    <thead style="background: #f8fafc; text-align: left;">
                                        <tr>
                                            <th style="padding: 10px; border-bottom: 2px solid #e2e8f0;">Class</th>
                                            <th style="padding: 10px; border-bottom: 2px solid #e2e8f0;">Cycle</th>
                                            <th style="padding: 10px; border-bottom: 2px solid #e2e8f0;">Schedule</th>
                                            <th style="padding: 10px; border-bottom: 2px solid #e2e8f0;">Professor</th>
                                            <th style="padding: 10px; border-bottom: 2px solid #e2e8f0; text-align: center;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="scheduleTableBody">
                                        </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="card" class="modal" style="display:none;">
                            <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 style="margin: 0;"><i class="fa fa-refresh"></i> Manage Cycles</h3>
                                <button type="button" class="modal-close-inline" onclick="hideModal('cycleModal')" title="Close">
                                    <i class="fa fa-times"></i>
                                </button>
                            </div>
                            <hr style="margin-bottom: 20px; border: 0; border-top: 1px solid #eee;">    
                            
                            <label class="small muted">Cycle Name</label>
                            <input type="text" id="cycleName" placeholder="e.g., Cycle 1" autocomplete="off">
                            
                            <div class="grid">
                                <div>
                                    <label class="small muted">Start Date</label>
                                    <input type="date" id="cycleStart">
                                </div>
                                <div>
                                    <label class="small muted">End Date</label>
                                    <input type="date" id="cycleEnd">
                                </div>
                            </div>
                    
                            <div style="margin-top: 20px;">
                                <button onclick="saveCycle()" style="margin-top:10px;">Save Cycle Period</button>
                            </div>
                        </div>

                        <div id="scheduleModal" class="modal" style="display:none;">
                            <div class="modal-content">
                                <h3><i class="fa fa-plus-circle"></i> Create New Schedule</h3>
                                <hr>
                                <div class="grid">
                                    <input type="text" id="schedCode" placeholder="Class Code (e.g., GEED 004)" autocomplete="off">
                                    <input type="text" id="schedTitle" placeholder="Course Title" autocomplete="off">
                                </div>
                                
                                <div class="grid" style="margin-top:10px;">
                                    <div>
                                        <label class="small muted">Professor</label>
                                        <select id="schedProfId" style="width:100%"></select>
                                    </div>
                                    <div>
                                        <label class="small muted">Academic Cycle</label>
                                        <select id="schedCycleId" style="width:100%">
                                            <option value="">Full Semester / Regular</option>
                                        </select>
                                    </div>
                                </div>
                        
                                <div class="grid" style="margin-top:10px;">
                                    <input type="time" id="schedStartTime">
                                    <input type="time" id="schedEndTime">
                                </div>
                        
                                <div style="margin-top:10px;">
                                    <label class="small muted">Days (Select all that apply)</label>
                                    <div id="dayCheckboxes" style="display:flex; gap:10px; margin-top:5px;">
                                        <label><input type="checkbox" value="Mon"> Mon</label>
                                        <label><input type="checkbox" value="Tue"> Tue</label>
                                        <label><input type="checkbox" value="Wed"> Wed</label>
                                        <label><input type="checkbox" value="Thu"> Thu</label>
                                        <label><input type="checkbox" value="Fri"> Fri</label>
                                        <label><input type="checkbox" value="Sat"> Sat</label>
                                        <label><input type="checkbox" value="Sun"> Sun</label>
                                    </div>
                                </div>
                        
                                <div style="margin-top:20px; display:flex; gap:10px;">
                                    <button onclick="submitNewSchedule()" style="flex:1;">Save Schedule</button>
                                    <button onclick="hideModal('scheduleModal')" style="flex:1; background:#f1f5f9; color:#475569;">Cancel</button>
                                </div>
                            </div>
                        </div-->
                    </div>

                    <div id="profControls" class="card" style="display:none">
                        <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
                            <h3 style="margin:0;"><i class="fa fa-bar-chart"></i> Attendance Monitor</h3>
                            <button id="toggleProfControlsBtn" type="button" onclick="toggleProfControlsCollapse()" aria-expanded="false">Collapse</button>
                        </div>
                        <div id="profControlsContent" style="margin-top:12px;">
                            <div class="card">
                                <h4><i class="fa fa-line-chart"></i> Live Attendance</h4>
    
                                <div id="monitorClassFilterWrapper" style="display:none; margin-bottom: 12px;">
                                    <label class="small muted" for="monitorClassFilter">Class Filter (Today)</label>
                                    <select id="monitorClassFilter" style="width:100%; margin-top:6px;"></select>
                                </div>
        
                                <div id="searchWrapper" style="display: none; margin-bottom: 15px; position: relative;">
                                    <input type="text" id="studentSearch" placeholder="Search student name..." style="width: 100%; box-sizing: border-box; padding-left: 35px;" autocomplete="off"/>
                                    <span class="fa fa-search" style="position: absolute; left: 12px; top: 13px; color: #94a3b8;"></span>
                                </div>
                            
                                <div id="profDashboardOutput" class="small muted">Loading Live Stats...</div>
                                <button onclick="loadProfessorDashboard()" style="margin-top:10px">Refresh Live Stats</button>
                            </div>
        
                            <div class="card">
                                <div style="display:flex; justify-content: space-between; align-items: center;">
                                    <h4><i class="fa fa-file-text-o"></i> Attendance Overview</h4>
                                    <button id="toggleTotalsBtn" onclick="toggleProfSummary()">View Totals</button>
                                </div>
                                <div id="profSummaryOutput" style="display: none; margin-top: 15px;"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal" id="settingsCard" style="display:none;">
                    <div class="modal-content">
                        <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                            <h4 style="margin: 0;">Account Settings</h4>
                            <button type="button" class="modal-close-inline" onclick="hideModal('settingsCard')" title="Close">
                                <i class="fa fa-times"></i>
                            </button>
                        </div>
                        <hr style="margin-bottom: 20px; border: 0; border-top: 1px solid #eee;">
                        <form id="changePasswordForm">
                            <div style="margin-bottom:10px;">
                                <label class="small" for="currentPw">Current Password</label><br>
                                <input type="password" id="currentPw" required style="width:90%" />
                            </div>
                            <div style="margin-bottom:10px;">
                                <label class="small" for="newPw">New Password</label><br>
                                <input type="password" id="newPw" required style="width:90%" minlength="12" />
                            </div>
                            <div style="margin-bottom:15px;">
                                <label class="small" for="confirmNewPw">Confirm New Password</label><br>
                                <input type="password" id="confirmNewPw" required style="width:90%" minlength="12" />
                            </div>
                            <button type="submit" style="background:#3b82f6; color:white; border:none;">Update Password</button>
                        </form>
                        <div id="settingsMsg" class="small" style="margin-top:10px; text-align:center;"></div>
                    </div>
                </div>
            </div>
            <div class="footer">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 10px;">
                    <div id="systemStatus" style="font-size: 11px; font-weight: 500;">
                        <i class="fa fa-circle" style="color: #cbd5e1;"></i> Checking System...
                    </div>
                    <div>&copy; <span id="copyrightYear"></span> /gmgenove</div>
                </div>
            </div>
        </div>
        <script src="script.js"></script>
    </body>
</html>
